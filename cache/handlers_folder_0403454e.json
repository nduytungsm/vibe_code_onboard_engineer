{
  "content_hash": "13ce9b158d1469f92590609f249da76f",
  "timestamp": "2025-09-26T13:37:22.103622+07:00",
  "result": {
    "path": "tests/handlers",
    "purpose": "Unit tests for various handlers in the application, ensuring the correctness of their functionalities.",
    "languages": {
      "Go": 6
    },
    "key_modules": [
      "activity_test.go",
      "helpers_test.go",
      "participant_quest_test.go",
      "quest_test.go",
      "reward_test.go",
      "user_role_test.go"
    ],
    "dependencies": [
      "github.com/stretchr/testify/assert",
      "github.com/stretchr/testify/mock"
    ],
    "architecture": "The folder follows a modular architecture pattern, where each test file corresponds to a specific handler, testing its functionalities and interactions with other components.",
    "file_summaries": {
      "tests/handlers/activity_test.go": {
        "language": "Go",
        "purpose": "Unit tests for the ActivityHandler in the handlers package, verifying the behavior of bulk insert and upsert operations.",
        "key_types": [
          "ActivityHandlerTestKit",
          "HandlerActItem",
          "HandlerCreateActsDTO",
          "ActivityEntity",
          "HistoryEntity",
          "BulkInsertActivityDTO",
          "HandlerOptionalAct",
          "HandlerUpsertActDTO"
        ],
        "functions": [
          "SetupActivityHandler",
          "TestBulkInsert_Should_CopyAllFields",
          "TestBulkInsert_Should_CreateCorrectHistory",
          "TestBulkInsert_Should_MarshalResp",
          "TestUpsert_Should_CreateIDForAll"
        ],
        "imports": [
          "context",
          "encoding/json",
          "errors",
          "strconv",
          "testing",
          "time",
          "github.com/stretchr/testify/assert",
          "github.com/stretchr/testify/mock",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/services/discord",
          "github.com/axieinfinity/ronin-wallet-services/mocks/repositories",
          "github.com/axieinfinity/ronin-wallet-services/mocks/services",
          "github.com/axieinfinity/ronin-wallet-services/tests"
        ],
        "complexity": "medium"
      },
      "tests/handlers/helpers_test.go": {
        "language": "Go",
        "purpose": "Unit tests for the QuestStateMachine functionality in the handlers package.",
        "key_types": [
          "QuestStateMachine",
          "ActionSubmitQuestInfo",
          "QuestStatus",
          "QuestPublishType"
        ],
        "functions": [
          "TestStateMachine_On_Submit",
          "TestStateMachine_On_CopywriterApprove",
          "TestStateMachine_On_CopywriterReject",
          "TestStateMachine_On_FinanceApprove",
          "TestStateMachine_On_FinanceReject",
          "TestStateMachine_On_LegalApprove",
          "TestStateMachine_On_LegalReject",
          "TestStateMachine_On_PublishExternal",
          "TestStateMachine_On_PublishInternal",
          "TestStateMachine_On_PauseExternal",
          "TestStateMachine_On_PauseInternal",
          "TestStateMachine_On_CopywriterEdit",
          "TestStateMachine_On_RejectedEdit",
          "TestStateMachine_On_PausedEdit",
          "TestStateMachine_On_ReadyDelete",
          "TestStateMachine_On_DeleteUpcoming",
          "TestStateMachine_Should_Err_On_DeleteExternalPublish"
        ],
        "imports": [
          "testing",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/stretchr/testify/assert"
        ],
        "complexity": "medium"
      },
      "tests/handlers/participant_quest_test.go": {
        "language": "Go",
        "purpose": "Unit tests for the participant quest handler in a gaming application.",
        "key_types": [
          "PQuestHandlerTestKit",
          "requests.CreatePQuest",
          "models.ParticipantQuestEntity",
          "models.QuestRelatedInfo",
          "models.PActEntity",
          "models.PRewardEntity"
        ],
        "functions": [
          "SetupPQuestHandler",
          "TestCreateParticipantQuest_Should_Err_When_NotPublished",
          "TestCreateParticipantQuest_Should_Err_When_InvalidStartTime",
          "TestCreateParticipantQuest_Should_Err_When_InvalidJoinTime",
          "TestCreateParticipantQuest_Should_CreateAllInfo"
        ],
        "imports": [
          "context",
          "fmt",
          "testing",
          "time",
          "github.com/stretchr/testify/assert",
          "github.com/test-go/testify/mock",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/mocks/repositories",
          "github.com/axieinfinity/ronin-wallet-services/mocks/services",
          "github.com/axieinfinity/ronin-wallet-services/pkg/helper",
          "github.com/axieinfinity/ronin-wallet-services/tests"
        ],
        "side_effects": [
          "Interacts with mock repositories to simulate database operations."
        ],
        "complexity": "medium"
      },
      "tests/handlers/quest_test.go": {
        "language": "Go",
        "purpose": "Unit tests for the QuestHandler in the handlers package.",
        "key_types": [
          "QuestHandlerTestKit",
          "models.QuestItem",
          "responses.QuestFullInfoDTO",
          "requests.HandlerCreateQuestDTO",
          "models.CreateQuestEntity"
        ],
        "functions": [
          "SetupQuestHandler",
          "TestOffsetLimit_ShouldNot_Err",
          "TestQuestByID_Should_CopyResp",
          "TestCreateQuest_Should_MarshalRepo",
          "TestCreateQuest_Should_CopyResp"
        ],
        "imports": [
          "bufio",
          "context",
          "os",
          "strconv",
          "testing",
          "time",
          "github.com/stretchr/testify/assert",
          "github.com/stretchr/testify/mock",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/mocks/repositories",
          "github.com/axieinfinity/ronin-wallet-services/mocks/services",
          "github.com/axieinfinity/ronin-wallet-services/pkg/helper",
          "github.com/axieinfinity/ronin-wallet-services/tests"
        ],
        "complexity": "medium"
      },
      "tests/handlers/reward_test.go": {
        "language": "Go",
        "purpose": "Unit tests for the RewardHandler in the handlers package.",
        "key_types": [
          "RewardHandlerTestKit",
          "HandlerQuestRewardItemDTO",
          "HandlerCreateQuestRewardDTO",
          "QuestRewardEntity",
          "HistoryEntity"
        ],
        "functions": [
          "SetupRewardHandler",
          "TestCreateBulk_Should_CopyAllFields",
          "TestRewardBulkInsert_ShouldErr_When_InvalidDistributionTime",
          "TestRewardBulkInsert_Should_CreateCorrectHistory",
          "TestRewardBulkInsert_Should_MarshalResp"
        ],
        "imports": [
          "context",
          "encoding/json",
          "fmt",
          "strconv",
          "testing",
          "time",
          "github.com/stretchr/testify/assert",
          "github.com/stretchr/testify/mock",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers",
          "github.com/axieinfinity/ronin-wallet-services/internal/infras/skynet",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/mocks/infras",
          "github.com/axieinfinity/ronin-wallet-services/mocks/repositories",
          "github.com/axieinfinity/ronin-wallet-services/mocks/services",
          "github.com/axieinfinity/ronin-wallet-services/pkg/helper",
          "github.com/axieinfinity/ronin-wallet-services/tests"
        ],
        "side_effects": [
          "Mocks are set up to simulate interactions with repositories and services."
        ],
        "complexity": "medium"
      },
      "tests/handlers/user_role_test.go": {
        "language": "Go",
        "purpose": "Unit tests for user role handler functions in the application.",
        "key_types": [
          "Role",
          "RoleEntity",
          "OperatorRoleHandler"
        ],
        "functions": [
          "TestCreateRole_ShouldNot_ReturnError",
          "TestCreateRole_Should_ReturnError"
        ],
        "imports": [
          "context",
          "errors",
          "testing",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/mocks/repositories",
          "github.com/axieinfinity/ronin-wallet-services/tests",
          "github.com/stretchr/testify/assert"
        ],
        "side_effects": [
          "Interacts with mock repository to simulate database operations."
        ],
        "complexity": "medium"
      }
    }
  }
}