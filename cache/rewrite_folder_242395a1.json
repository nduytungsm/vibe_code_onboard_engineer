{
  "content_hash": "dc0eb34b6a79fc07e38e87bb5f2c1c69",
  "timestamp": "2025-09-24T15:46:54.628248+07:00",
  "result": {
    "path": "middleware/rewrite",
    "purpose": "Responsible for URL path rewriting middleware in a web application.",
    "languages": {
      "Go": 3
    },
    "key_modules": [
      "config.go",
      "rewrite.go",
      "rewrite_test.go"
    ],
    "dependencies": [
      "github.com/gofiber/fiber/v3",
      "github.com/stretchr/testify/require",
      "github.com/valyala/fasthttp"
    ],
    "architecture": "The folder follows a modular architecture pattern, encapsulating middleware functionality with configuration, implementation, and testing separated into distinct files.",
    "file_summaries": {
      "middleware/rewrite/config.go": {
        "language": "Go",
        "purpose": "Defines middleware configuration for URL path rewriting.",
        "key_types": [
          "Config"
        ],
        "functions": [
          "configDefault"
        ],
        "imports": [
          "regexp",
          "github.com/gofiber/fiber/v3"
        ],
        "complexity": "medium"
      },
      "middleware/rewrite/rewrite.go": {
        "language": "Go",
        "purpose": "This file defines a middleware for rewriting request paths in a web application.",
        "key_types": [
          "Config",
          "fiber.Handler",
          "fiber.Ctx"
        ],
        "functions": [
          "New",
          "captureTokens"
        ],
        "imports": [
          "regexp",
          "strconv",
          "strings",
          "github.com/gofiber/fiber/v3"
        ],
        "side_effects": [
          "Modifies request paths based on defined rules"
        ],
        "risks": [
          "Potential for regex injection if user input is not properly sanitized"
        ],
        "complexity": "medium"
      },
      "middleware/rewrite/rewrite_test.go": {
        "language": "Go",
        "purpose": "Unit tests for a middleware that rewrites HTTP requests based on specified rules.",
        "key_types": [
          "Config",
          "fiber.Ctx",
          "fiber.App"
        ],
        "functions": [
          "Test_New",
          "Test_Rewrite",
          "Benchmark_Rewrite",
          "Benchmark_Rewrite_Parallel"
        ],
        "imports": [
          "context",
          "fmt",
          "io",
          "net/http",
          "testing",
          "github.com/gofiber/fiber/v3",
          "github.com/stretchr/testify/require",
          "github.com/valyala/fasthttp"
        ],
        "side_effects": [
          "Modifies HTTP request handling based on rewrite rules.",
          "Interacts with the HTTP response."
        ],
        "complexity": "medium"
      }
    }
  }
}