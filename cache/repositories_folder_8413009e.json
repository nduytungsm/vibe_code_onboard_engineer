{
  "content_hash": "725557930efbec74f5be20bc5fbb466b",
  "timestamp": "2025-09-26T11:11:07.392903+07:00",
  "result": {
    "path": "repositories",
    "purpose": "This folder contains repository definitions for managing various entities in a database, including announcements, code versions, contracts, DApps, highlights, networks, user preferences, quick access DApps, and trusted domains, utilizing CRUD operations and GORM for database interactions.",
    "languages": {
      "Go": 12
    },
    "key_modules": [
      "announcement.go",
      "code_version.go",
      "common.go",
      "contract.go",
      "dapp.go",
      "highlight.go",
      "init.go",
      "network.go",
      "preference.go",
      "quickaccess.go",
      "trusted_domain.go"
    ],
    "dependencies": [
      "gorm.io/gorm",
      "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
      "github.com/axieinfinity/ronin-wallet-manager/models",
      "github.com/axieinfinity/ronin-wallet-manager/pkg/helper",
      "github.com/axieinfinity/ecosystem-go-common/errors"
    ],
    "architecture": "The folder follows a repository pattern, encapsulating data access logic for different entities and providing a clean interface for CRUD operations while managing database interactions through GORM.",
    "file_summaries": {
      "repositories/announcement.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing announcements, including CRUD operations and special offer logs.",
        "key_types": [
          "AnnouncementRepo",
          "announcementRepo",
          "AnnouncementInfo"
        ],
        "functions": [
          "AddNew",
          "MarkPublished",
          "GetAnnouncementByID",
          "GetAnnouncementsListAsAdmin",
          "GetAnnouncementsListAsUser",
          "GetOldPublished",
          "CountAnnouncements",
          "DeleteAnnouncement",
          "GetSpecialOfferLog",
          "SaveSendSpecialOfferLog",
          "GetSpecialOfferLogsList",
          "CountSpecialOffers"
        ],
        "imports": [
          "context",
          "errors",
          "slices",
          "time",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "github.com/axieinfinity/ronin-wallet-manager/models",
          "github.com/axieinfinity/ronin-wallet-manager/pkg/helper"
        ],
        "side_effects": [
          "Database transactions are performed for CRUD operations."
        ],
        "risks": [
          "Potential SQL injection if user inputs are not properly sanitized."
        ],
        "complexity": "medium"
      },
      "repositories/code_version.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing code versions, including retrieving and saving versions to a database.",
        "key_types": [
          "CodeVersionRepo",
          "codeVersionRepo",
          "gorm.DB"
        ],
        "functions": [
          "GetAllCodeVersions",
          "SaveVersion",
          "NewCodeVersionRepo"
        ],
        "imports": [
          "context",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are initiated and may modify the database state."
        ],
        "risks": [
          "Potential SQL injection if inputs are not properly sanitized.",
          "Error handling may expose sensitive information if not managed correctly."
        ],
        "complexity": "medium"
      },
      "repositories/common.go": {
        "language": "Go",
        "purpose": "This file defines a repository interface and its implementation for managing common entities in a database using GORM.",
        "key_types": [
          "CommonRepo",
          "commonRepo"
        ],
        "functions": [
          "GetAllCommons",
          "SaveCommons",
          "NewCommonRepo"
        ],
        "imports": [
          "context",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are initiated and may modify the database state."
        ],
        "risks": [
          "Potential SQL injection if inputs are not properly sanitized.",
          "Data loss if 'overwriteOnConflict' is misused."
        ],
        "complexity": "medium"
      },
      "repositories/contract.go": {
        "language": "Go",
        "purpose": "This file defines a repository interface and its implementation for managing contract data in a database.",
        "key_types": [
          "ContractRepo",
          "contractRepo",
          "md.Contract",
          "md.ContractFilter",
          "md.ContractOrderBy",
          "md.Paging"
        ],
        "functions": [
          "GetContract",
          "GetContractList",
          "CreateContract",
          "DeleteContract",
          "UpdateContract",
          "SaveContract",
          "UpdateContracts",
          "SaveContracts",
          "NewContractRepo"
        ],
        "imports": [
          "context",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ecosystem-go-common/errors",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are initiated and may modify the database state."
        ],
        "risks": [
          "Potential SQL injection if filter conditions are not properly sanitized.",
          "Panic calls in unimplemented methods may lead to application crashes."
        ],
        "complexity": "medium"
      },
      "repositories/dapp.go": {
        "language": "Go",
        "purpose": "This file defines a repository interface and its implementation for managing decentralized application (DApp) data in a database.",
        "key_types": [
          "DAppRepo",
          "dAppRepo",
          "DApp",
          "DAppFilter",
          "DAppOrderBy",
          "Paging"
        ],
        "functions": [
          "GetDApp",
          "GetDAppList",
          "CreateDApp",
          "DeleteDApp",
          "UpdateDApp",
          "SaveDApp",
          "UpdateDApps",
          "SaveDApps",
          "NewDAppRepo"
        ],
        "imports": [
          "context",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ecosystem-go-common/errors",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are initiated and modified."
        ],
        "risks": [
          "Potential SQL injection if filter conditions are not properly sanitized.",
          "Panic calls in unimplemented methods may lead to application crashes."
        ],
        "complexity": "medium"
      },
      "repositories/highlight.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing highlights in a database, including CRUD operations and handling of expired highlights.",
        "key_types": [
          "HighlightRepo",
          "highlightRepo",
          "md.Highlight",
          "md.Paging"
        ],
        "functions": [
          "GetList",
          "Save",
          "SaveBatch",
          "Update",
          "UpdateBatch",
          "GetByID",
          "GetAll",
          "DeleteByID",
          "GetHighlightDApps",
          "CleanExpired",
          "NewHighlightRepo"
        ],
        "imports": [
          "context",
          "time",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are performed which may modify the state of the database."
        ],
        "risks": [
          "Potential SQL injection if user input is not properly sanitized.",
          "Concurrency issues if multiple transactions are not handled correctly."
        ],
        "complexity": "medium"
      },
      "repositories/init.go": {
        "language": "Go",
        "purpose": "Provides pagination functionality for database queries using GORM.",
        "key_types": [
          "int",
          "gorm.DB"
        ],
        "functions": [
          "paginate"
        ],
        "imports": [
          "gorm.io/gorm"
        ],
        "side_effects": [
          "Modifies database query parameters based on pagination logic."
        ],
        "complexity": "medium"
      },
      "repositories/network.go": {
        "language": "Go",
        "purpose": "This file defines a repository interface and its implementation for managing network entities in a database using GORM.",
        "key_types": [
          "NetworkRepo",
          "networkRepo",
          "Network",
          "NetworkFilter",
          "NetworkOrderBy",
          "Paging",
          "Preload"
        ],
        "functions": [
          "GetNetwork",
          "GetNetworkList",
          "CreateNetwork",
          "DeleteNetwork",
          "UpdateNetwork",
          "SaveNetwork",
          "UpdateNetworks",
          "SaveNetworks",
          "NewNetworkRepo"
        ],
        "imports": [
          "context",
          "fmt",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "github.com/axieinfinity/ecosystem-go-common/errors",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database operations such as create, read, update, and delete on network entities."
        ],
        "risks": [
          "Potential SQL injection if filter conditions are not properly sanitized."
        ],
        "complexity": "medium"
      },
      "repositories/preference.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing user preferences in a database using GORM.",
        "key_types": [
          "PreferenceRepo",
          "prefRepo",
          "Preference",
          "PreferenceFilter"
        ],
        "functions": [
          "GetByAddress",
          "UpdateForAddress",
          "GetList",
          "UpsertBatch",
          "UpdateForDevice",
          "DeleteByDevice",
          "DeleteBatch",
          "GetOneByDevice",
          "CountAddressRegisReceiveNews",
          "NewPreferencesRepo"
        ],
        "imports": [
          "context",
          "errors",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ronin-wallet-manager/models",
          "github.com/axieinfinity/ronin-wallet-manager/pkg/helper"
        ],
        "side_effects": [
          "Database operations that modify user preferences."
        ],
        "risks": [
          "Potential SQL injection if user input is not properly sanitized.",
          "Error handling may expose sensitive information."
        ],
        "complexity": "medium"
      },
      "repositories/quickaccess.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing Quick Access DApps, including CRUD operations and searching functionalities.",
        "key_types": [
          "QuickAccessDAppRepo",
          "quickAccessDAppRepo",
          "md.QuickAccessDApp",
          "md.Paging"
        ],
        "functions": [
          "GetList",
          "Save",
          "SaveBatch",
          "Update",
          "UpdateBatch",
          "GetByID",
          "GetAll",
          "DeleteByID",
          "SearchByTitle",
          "NewQuickAccessDAppRepo"
        ],
        "imports": [
          "context",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are performed which may affect the state of the database."
        ],
        "risks": [
          "Potential SQL injection if user input is not properly sanitized in search queries."
        ],
        "complexity": "medium"
      },
      "repositories/trusted_domain.go": {
        "language": "Go",
        "purpose": "This file defines a repository for managing trusted domains in a database, providing methods to retrieve, save, and delete trusted domain records.",
        "key_types": [
          "TrustedDomainRepo",
          "trustedDomainsRepo",
          "TrustedDomain",
          "Paging",
          "TrustedDomainFilter",
          "TrustedDomainOrderBy"
        ],
        "functions": [
          "GetByDomain",
          "GetList",
          "Save",
          "SaveBatch",
          "GetAll",
          "DeleteByDomain",
          "NewTrustedDomainRepo"
        ],
        "imports": [
          "context",
          "fmt",
          "strings",
          "github.com/axieinfinity/ecosystem-go-common/echo/middleware",
          "gorm.io/gorm",
          "gorm.io/gorm/clause",
          "github.com/axieinfinity/ronin-wallet-manager/models"
        ],
        "side_effects": [
          "Database transactions are initiated and may modify the database state."
        ],
        "risks": [
          "Potential SQL injection if user input is not properly sanitized in queries."
        ],
        "complexity": "medium"
      }
    }
  }
}