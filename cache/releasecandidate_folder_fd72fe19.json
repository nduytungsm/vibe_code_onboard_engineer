{
  "content_hash": "c0ac81349e552a9786b890839a6f5b7e",
  "timestamp": "2025-09-25T16:32:23.268132+07:00",
  "result": {
    "path": "pkg/releasecandidate",
    "purpose": "Responsible for managing feature configurations and whitelist devices for mobile wallet candidates.",
    "languages": {
      "Go": 2
    },
    "key_modules": [
      "init.go",
      "service.go"
    ],
    "dependencies": [
      "github.com/redis/go-redis/v9",
      "github.com/axieinfinity/ronin-wallet-manager/models",
      "github.com/axieinfinity/ronin-wallet-manager/pkg/device",
      "github.com/go-redsync/redsync/v4",
      "github.com/go-redsync/redsync/v4/redis/goredis/v9",
      "github.com/rs/zerolog/log"
    ],
    "architecture": "The folder follows a service-oriented architecture pattern, utilizing Redis for state management and providing a clear interface for feature access control.",
    "file_summaries": {
      "pkg/releasecandidate/init.go": {
        "language": "Go",
        "purpose": "Defines a service interface for managing feature configurations and whitelist devices.",
        "key_types": [
          "Service",
          "CheckAllowFeatureRequest",
          "PostFeatureConfigRequest",
          "PostWhitelistFeaturesRequest",
          "PostSetConfigForDeviceRequest",
          "GetCountWhitelistDevices"
        ],
        "functions": [
          "NewService"
        ],
        "imports": [
          "github.com/redis/go-redis/v9",
          "github.com/axieinfinity/ronin-wallet-manager/models",
          "github.com/axieinfinity/ronin-wallet-manager/pkg/device"
        ],
        "complexity": "medium"
      },
      "pkg/releasecandidate/service.go": {
        "language": "Go",
        "purpose": "Manages feature access for mobile wallet candidates using Redis for state management.",
        "key_types": [
          "service",
          "models.CheckAllowFeatureRequest",
          "models.PostFeatureConfigRequest",
          "models.PostWhitelistFeaturesRequest",
          "models.PostSetConfigForDeviceRequest",
          "models.GetCountWhitelistDevices"
        ],
        "functions": [
          "newService",
          "refreshWhitelist",
          "CheckAllowFeature",
          "SetFeatureConfig",
          "SetWhitelistFeatures",
          "SetConfigForDevice",
          "CountWhitelistDevices",
          "VerifyWhitelistFeature",
          "convertKey"
        ],
        "imports": [
          "context",
          "errors",
          "fmt",
          "strings",
          "time",
          "github.com/go-redsync/redsync/v4",
          "github.com/go-redsync/redsync/v4/redis/goredis/v9",
          "github.com/redis/go-redis/v9",
          "github.com/rs/zerolog/log",
          "github.com/axieinfinity/ronin-wallet-manager/models",
          "github.com/axieinfinity/ronin-wallet-manager/pkg/device"
        ],
        "side_effects": [
          "Modifies Redis state for feature access and device configurations.",
          "Logs information and errors during execution."
        ],
        "risks": [
          "Potential race conditions when accessing shared resources in Redis.",
          "Improper handling of Redis errors may lead to incorrect feature access decisions."
        ],
        "complexity": "medium"
      }
    }
  }
}