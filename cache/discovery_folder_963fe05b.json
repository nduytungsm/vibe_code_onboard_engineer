{
  "content_hash": "d909ded596263eb5acb8e0ecbf91a7e5",
  "timestamp": "2025-09-26T13:33:44.264956+07:00",
  "result": {
    "path": "internal/routers/discovery",
    "purpose": "This folder/module is responsible for defining various routers that handle HTTP requests related to discovery features, including announcements, events, banners, products, and widgets.",
    "languages": {
      "Go": 10
    },
    "key_modules": [
      "announcement.go",
      "echo_router.go",
      "event.go",
      "feature_banner.go",
      "generic.go",
      "home_banner.go",
      "layout.go",
      "product.go",
      "tokens.go",
      "widget.go"
    ],
    "dependencies": [
      "net/http",
      "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
      "github.com/axieinfinity/ronin-wallet-services/internal/routers",
      "github.com/google/wire",
      "github.com/labstack/echo/v4",
      "go.uber.org/zap"
    ],
    "architecture": "The folder follows a modular architecture pattern, where each file defines a specific router for handling different aspects of the discovery service, promoting separation of concerns and maintainability.",
    "file_summaries": {
      "internal/routers/discovery/announcement.go": {
        "language": "Go",
        "purpose": "This file defines a router for handling announcements, including creating, listing, deleting, editing, and retrieving banners.",
        "key_types": [
          "AnnouncementRouter",
          "announcement"
        ],
        "functions": [
          "NewAnnouncementRouter",
          "CreateBanner",
          "ListBanners",
          "DeleteBanner",
          "GetBannerByID",
          "EditBanner"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/google/wire",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/labstack/echo/v4",
          "go.uber.org/zap"
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/echo_router.go": {
        "language": "Go",
        "purpose": "Defines routes for various services in a web application using Echo framework.",
        "key_types": [
          "routerList",
          "AnnouncementRouter",
          "ProductRouter",
          "GenericRouter",
          "LayoutRouter",
          "TokensRouter",
          "EventRouter",
          "HomeBannerRouter",
          "FeatureBannerRouter"
        ],
        "functions": [
          "NewEchoRouter",
          "groupFeatureBannerRoutes",
          "groupBannerRoutes",
          "groupProductsRoutes",
          "groupGenericRoutes",
          "groupLayoutRoutes",
          "groupWidgetRoutes",
          "groupTokensRoutes",
          "groupEventRoutes",
          "groupHomeBannerRoutes"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/manager/services",
          "github.com/axieinfinity/ronin-wallet-services/internal/repositories",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/pkg/crypto/hmac",
          "go.uber.org/zap"
        ],
        "side_effects": [
          "Modifies HTTP routes and handlers",
          "Interacts with external services through middleware"
        ],
        "risks": [
          "Potential exposure of sensitive data through improperly secured routes",
          "Dependency on external services may introduce vulnerabilities"
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/event.go": {
        "language": "Go",
        "purpose": "Defines an event router for handling event-related HTTP requests in a web service.",
        "key_types": [
          "eventRouter",
          "EventRouter"
        ],
        "functions": [
          "NewEventRouter",
          "CreateEvent",
          "DeleteEvent",
          "ListRoninMarketEvs"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/google/wire",
          "github.com/labstack/echo/v4"
        ],
        "side_effects": [
          "Interacts with HTTP context and may modify the response."
        ],
        "risks": [
          "Potential for unhandled errors leading to server crashes or information leakage."
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/feature_banner.go": {
        "language": "Go",
        "purpose": "This file defines a router for handling feature banner operations in a web service.",
        "key_types": [
          "FeatureBannerRouter",
          "featureBanner"
        ],
        "functions": [
          "NewFeatureBannerRouter",
          "Create",
          "GetByVersion",
          "Delete",
          "GetLatest"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/manager/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/internal/commons",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/enums",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/google/wire",
          "github.com/labstack/echo/v4"
        ],
        "side_effects": [
          "Modifies the state of feature banners in the database",
          "Interacts with external middleware for authentication"
        ],
        "risks": [
          "Potential for unauthorized access if authentication fails",
          "Improper handling of input data could lead to security vulnerabilities"
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/generic.go": {
        "language": "Go",
        "purpose": "Defines a generic router for handling discovery-related HTTP requests.",
        "key_types": [
          "GenericRouter",
          "genericRouter"
        ],
        "functions": [
          "NewGenericRouter",
          "ListSocialPlatforms",
          "ListStudios",
          "ListCategories",
          "Search",
          "ListGamePlatforms",
          "CreateStudio",
          "UploadImage",
          "RequestImageUpload",
          "openImg"
        ],
        "imports": [
          "errors",
          "mime/multipart",
          "net/http",
          "github.com/google/wire",
          "github.com/labstack/echo/v4",
          "go.uber.org/zap",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses"
        ],
        "side_effects": [
          "Interacts with HTTP context and may modify response based on request handling."
        ],
        "risks": [
          "Potential for handling untrusted input from HTTP requests, which could lead to security vulnerabilities."
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/home_banner.go": {
        "language": "Go",
        "purpose": "Defines a router for managing home banners in a web service.",
        "key_types": [
          "HomeBannerRouter",
          "homeBannerRouter",
          "discovery_handlers.HomeBanner"
        ],
        "functions": [
          "NewHomeBannerRouter",
          "GetHomeBanner",
          "CreateHomeBanner",
          "DeleteHomeBanner",
          "ListHomeBanners"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/manager/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/google/wire",
          "github.com/labstack/echo/v4"
        ],
        "side_effects": [
          "Interacts with external services to manage home banners.",
          "Modifies request context to include authentication information."
        ],
        "risks": [
          "Potential exposure of sensitive information if authentication is not handled properly.",
          "Improper error handling may lead to information leakage."
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/layout.go": {
        "language": "Go",
        "purpose": "Defines a layout router for handling layout-related HTTP requests in a web service.",
        "key_types": [
          "LayoutRouter",
          "layoutRouter",
          "discovery_requests.CreateLayout",
          "discovery_requests.UpdateLayoutWidgets",
          "discovery_requests.CreateLayoutContacts",
          "discovery_requests.CreateLayoutServices",
          "discovery_requests.GetLayoutWidgets",
          "discovery_requests.GetWidgetItems",
          "discovery_requests.GetLayoutWidget",
          "discovery_requests.UpsertFullpageWidget"
        ],
        "functions": [
          "NewLayoutRouter",
          "CreateLayout",
          "UpdateLayoutWidgets",
          "CreateLayoutContacts",
          "CreateLayoutServices",
          "GetLayoutWidgets",
          "GetWidgetItems",
          "GetWidgetItemsInternal",
          "GetWidgetByID",
          "UpsertFullpageWidget"
        ],
        "imports": [
          "net/http",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/pkg/helper",
          "github.com/google/wire",
          "github.com/labstack/echo/v4",
          "go.uber.org/zap",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/middlewares"
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/product.go": {
        "language": "Go",
        "purpose": "Defines a router for product-related operations in a web service.",
        "key_types": [
          "ProductRouter",
          "product",
          "discovery_requests.CreateProduct",
          "discovery_requests.ListProducts",
          "discovery_requests.UpdateItemStatus",
          "discovery_requests.UpdateProduct",
          "discovery_requests.GetDappByID"
        ],
        "functions": [
          "NewProductRouter",
          "CreateProduct",
          "ListProducts",
          "DeleteProduct",
          "RestoreProduct",
          "UpdateProduct",
          "GetProductByID"
        ],
        "imports": [
          "net/http",
          "github.com/google/wire",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/manager/middlewares",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/pkg/helper",
          "github.com/labstack/echo/v4",
          "go.uber.org/zap",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/discovery/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/middlewares"
        ],
        "side_effects": [
          "Interacts with external services through HTTP requests.",
          "Modifies the state of products in a database."
        ],
        "risks": [
          "Potential for unauthorized access if authentication is not properly handled.",
          "Possible data integrity issues if input validation is insufficient."
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/tokens.go": {
        "language": "Go",
        "purpose": "Defines a router for handling token-related requests in a discovery service.",
        "key_types": [
          "TokensRouter",
          "tokens",
          "Error",
          "PaginationDTO"
        ],
        "functions": [
          "NewTokensRouter",
          "Trending"
        ],
        "imports": [
          "fmt",
          "net/http",
          "github.com/google/wire",
          "github.com/labstack/echo/v4",
          "github.com/samber/lo",
          "go.uber.org/zap",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/discovery/handlers/dtos/requests",
          "github.com/axieinfinity/ronin-wallet-services/internal/domains/discovery/models",
          "github.com/axieinfinity/ronin-wallet-services/internal/handlers/discovery",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers",
          "github.com/axieinfinity/ronin-wallet-services/internal/routers/dtos/responses",
          "github.com/axieinfinity/ronin-wallet-services/pkg/errors"
        ],
        "side_effects": [
          "Returns JSON responses to HTTP requests",
          "Logs errors using the provided logger"
        ],
        "risks": [
          "Potential for exposing sensitive information in error messages",
          "Improper handling of user input could lead to security vulnerabilities"
        ],
        "complexity": "medium"
      },
      "internal/routers/discovery/widget.go": {
        "language": "Go",
        "purpose": "Defines a router for handling widget-related requests in a web application.",
        "key_types": [
          "WidgetRouter",
          "widget"
        ],
        "functions": [
          "NewWidgetRouter",
          "GetWidgetData"
        ],
        "imports": [
          "github.com/google/wire",
          "github.com/labstack/echo/v4",
          "go.uber.org/zap"
        ],
        "complexity": "low"
      }
    }
  }
}