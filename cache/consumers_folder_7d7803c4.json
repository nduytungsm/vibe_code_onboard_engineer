{
  "content_hash": "d1a21b90e4aabb9325c2efa19dfaaf5f",
  "timestamp": "2025-09-26T13:36:09.268567+07:00",
  "result": {
    "path": "internal/domains/quest/consumers",
    "purpose": "Responsible for processing consumer check-in events and tracking metrics related to these events.",
    "languages": {
      "Go": 2
    },
    "key_modules": [
      "metrics.go",
      "ronincheckin.go"
    ],
    "dependencies": [
      "github.com/prometheus/client_golang/prometheus",
      "github.com/axieinfinity/ronin-wallet-services/pkg/metrics",
      "github.com/IBM/sarama",
      "go.uber.org/zap",
      "github.com/axieinfinity/ronin-wallet-services/internal/commons",
      "github.com/axieinfinity/ronin-wallet-services/internal/services"
    ],
    "architecture": "The folder follows a modular architecture pattern, encapsulating functionality related to consumer check-ins and metrics tracking, leveraging message queues for event processing.",
    "file_summaries": {
      "internal/domains/quest/consumers/metrics.go": {
        "language": "Go",
        "purpose": "This file defines metrics for tracking consumer check-ins using Prometheus.",
        "key_types": [
          "metricCollectors"
        ],
        "functions": [
          "initMetrics"
        ],
        "imports": [
          "github.com/prometheus/client_golang/prometheus",
          "github.com/axieinfinity/ronin-wallet-services/pkg/metrics"
        ],
        "side_effects": [
          "Registers metrics with Prometheus"
        ],
        "complexity": "low"
      },
      "internal/domains/quest/consumers/ronincheckin.go": {
        "language": "Go",
        "purpose": "Handles the processing of check-in events for contracts using a message queue.",
        "key_types": [
          "ContractsTracking",
          "contractsTrackingMap",
          "RoninCheckInHandler",
          "Log",
          "BlockFullEvent"
        ],
        "functions": [
          "key",
          "add",
          "find",
          "createContractsTrackingMap",
          "NewRoninCheckInHandler",
          "Parse",
          "Process",
          "CreatedTime"
        ],
        "imports": [
          "context",
          "encoding/json",
          "fmt",
          "strings",
          "time",
          "github.com/IBM/sarama",
          "go.uber.org/zap",
          "github.com/axieinfinity/ronin-wallet-services/internal/commons",
          "github.com/axieinfinity/ronin-wallet-services/internal/services"
        ],
        "side_effects": [
          "Logs messages for contract processing and errors."
        ],
        "risks": [
          "Potential for nil pointer dereference if contracts are not properly initialized.",
          "Error handling for JSON unmarshalling could expose sensitive data."
        ],
        "complexity": "medium"
      }
    }
  }
}